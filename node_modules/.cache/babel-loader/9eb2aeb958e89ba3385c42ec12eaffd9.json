{"ast":null,"code":"import OHIF from 'ohif-core';\nimport cornerstone from 'cornerstone-core';\nimport cornerstoneWADOImageLoader from 'cornerstone-wado-image-loader';\nimport dicomParser from 'dicom-parser';\nimport version from './version.js';\nwindow.info = {\n  version: version,\n  homepage: \"\".concat(process.env.PUBLIC_URL)\n}; // For debugging\n//if (process.env.node_env === 'development') {\n\nwindow.cornerstone = cornerstone;\nwindow.cornerstoneWADOImageLoader = cornerstoneWADOImageLoader; //}\n\ncornerstoneWADOImageLoader.external.cornerstone = cornerstone;\ncornerstoneWADOImageLoader.external.dicomParser = dicomParser;\n\nOHIF.user.getAccessToken = function () {\n  // TODO: Get the Redux store from somewhere else\n  var state = window.store.getState();\n\n  if (!state.oidc || !state.oidc.user) {\n    return;\n  }\n\n  return state.oidc.user.access_token;\n};\n\ncornerstoneWADOImageLoader.configure({\n  beforeSend: function beforeSend(xhr) {\n    var headers = OHIF.DICOMWeb.getAuthorizationHeader();\n\n    if (headers.Authorization) {\n      xhr.setRequestHeader('Authorization', headers.Authorization);\n    }\n  }\n});","map":{"version":3,"sources":["/home/bitnami/Viewers/src/config.js"],"names":["OHIF","cornerstone","cornerstoneWADOImageLoader","dicomParser","version","window","info","homepage","process","env","PUBLIC_URL","external","user","getAccessToken","state","store","getState","oidc","access_token","configure","beforeSend","xhr","headers","DICOMWeb","getAuthorizationHeader","Authorization","setRequestHeader"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AACA,OAAOC,0BAAP,MAAuC,+BAAvC;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,OAAP,MAAoB,cAApB;AAEAC,MAAM,CAACC,IAAP,GAAc;AACZF,EAAAA,OAAO,EAAPA,OADY;AAEZG,EAAAA,QAAQ,YAAKC,OAAO,CAACC,GAAR,CAAYC,UAAjB;AAFI,CAAd,C,CAKA;AACA;;AACAL,MAAM,CAACJ,WAAP,GAAqBA,WAArB;AACAI,MAAM,CAACH,0BAAP,GAAoCA,0BAApC,C,CACA;;AAEAA,0BAA0B,CAACS,QAA3B,CAAoCV,WAApC,GAAkDA,WAAlD;AACAC,0BAA0B,CAACS,QAA3B,CAAoCR,WAApC,GAAkDA,WAAlD;;AAEAH,IAAI,CAACY,IAAL,CAAUC,cAAV,GAA2B,YAAM;AAC/B;AACA,MAAMC,KAAK,GAAGT,MAAM,CAACU,KAAP,CAAaC,QAAb,EAAd;;AACA,MAAI,CAACF,KAAK,CAACG,IAAP,IAAe,CAACH,KAAK,CAACG,IAAN,CAAWL,IAA/B,EAAqC;AACnC;AACD;;AAED,SAAOE,KAAK,CAACG,IAAN,CAAWL,IAAX,CAAgBM,YAAvB;AACD,CARD;;AAUAhB,0BAA0B,CAACiB,SAA3B,CAAqC;AACnCC,EAAAA,UAAU,EAAE,oBAASC,GAAT,EAAc;AACxB,QAAMC,OAAO,GAAGtB,IAAI,CAACuB,QAAL,CAAcC,sBAAd,EAAhB;;AAEA,QAAIF,OAAO,CAACG,aAAZ,EAA2B;AACzBJ,MAAAA,GAAG,CAACK,gBAAJ,CAAqB,eAArB,EAAsCJ,OAAO,CAACG,aAA9C;AACD;AACF;AAPkC,CAArC","sourcesContent":["import OHIF from 'ohif-core';\nimport cornerstone from 'cornerstone-core';\nimport cornerstoneWADOImageLoader from 'cornerstone-wado-image-loader';\nimport dicomParser from 'dicom-parser';\nimport version from './version.js';\n\nwindow.info = {\n  version,\n  homepage: `${process.env.PUBLIC_URL}`,\n};\n\n// For debugging\n//if (process.env.node_env === 'development') {\nwindow.cornerstone = cornerstone;\nwindow.cornerstoneWADOImageLoader = cornerstoneWADOImageLoader;\n//}\n\ncornerstoneWADOImageLoader.external.cornerstone = cornerstone;\ncornerstoneWADOImageLoader.external.dicomParser = dicomParser;\n\nOHIF.user.getAccessToken = () => {\n  // TODO: Get the Redux store from somewhere else\n  const state = window.store.getState();\n  if (!state.oidc || !state.oidc.user) {\n    return;\n  }\n\n  return state.oidc.user.access_token;\n};\n\ncornerstoneWADOImageLoader.configure({\n  beforeSend: function(xhr) {\n    const headers = OHIF.DICOMWeb.getAuthorizationHeader();\n\n    if (headers.Authorization) {\n      xhr.setRequestHeader('Authorization', headers.Authorization);\n    }\n  },\n});\n"]},"metadata":{},"sourceType":"module"}