{"ast":null,"code":"import _classCallCheck from \"/home/bitnami/Viewers/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bitnami/Viewers/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/bitnami/Viewers/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/bitnami/Viewers/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/bitnami/Viewers/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/bitnami/Viewers/src/components/Header/Header.js\";\nimport './Header.css';\nimport './Header.css';\nimport { Link, withRouter } from 'react-router-dom';\nimport React, { Component } from 'react';\nimport { Dropdown } from 'react-viewerbase';\nimport OHIFLogo from '../OHIFLogo/OHIFLogo.js';\nimport PropTypes from 'prop-types';\nimport { AboutModal } from 'react-viewerbase';\nimport { hotkeysManager } from './../../App.js';\nimport { withTranslation } from 'react-i18next';\n\nvar Header =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Header, _Component);\n\n  // onSave: data => {\n  //   const contextName = store.getState().commandContext.context;\n  //   const preferences = cloneDeep(store.getState().preferences);\n  //   preferences[contextName] = data;\n  //   dispatch(setUserPreferences(preferences));\n  //   dispatch(setUserPreferencesModalOpen(false));\n  //   OHIF.hotkeysUtil.setHotkeys(data.hotKeysData);\n  // },\n  // onResetToDefaults: () => {\n  //   dispatch(setUserPreferences());\n  //   dispatch(setUserPreferencesModalOpen(false));\n  //   OHIF.hotkeysUtil.setHotkeys();\n  // },\n  function Header(props) {\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Header).call(this, props));\n    _this.state = {\n      isUserPreferencesOpen: false,\n      isOpen: false\n    };\n\n    _this.loadOptions();\n\n    return _this;\n  }\n\n  _createClass(Header, [{\n    key: \"loadOptions\",\n    value: function loadOptions() {\n      var _this2 = this;\n\n      var t = this.props.t;\n      this.options = [{\n        title: t('About'),\n        icon: {\n          name: 'info'\n        },\n        onClick: function onClick() {\n          _this2.setState({\n            isOpen: true\n          });\n        }\n      }];\n      this.hotKeysData = hotkeysManager.hotkeyDefinitions;\n    }\n  }, {\n    key: \"onUserPreferencesSave\",\n    value: function onUserPreferencesSave(_ref) {// console.log(windowLevelData);\n      // console.log(hotKeysData);\n      // TODO: Update hotkeysManager\n      // TODO: reset `this.hotKeysData`\n\n      var windowLevelData = _ref.windowLevelData,\n          hotKeysData = _ref.hotKeysData;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var t = this.props.t;\n      return React.createElement(\"div\", {\n        className: \"entry-header \".concat(this.props.home ? 'header-big' : ''),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header-left-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, this.props.location && this.props.location.studyLink && React.createElement(Link, {\n        to: this.props.location.studyLink,\n        className: \"header-btn header-viewerLink\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, t('Back to Viewer')), this.props.children, !this.props.home && React.createElement(Link, {\n        className: \"header-btn header-studyListLinkSection\",\n        to: {\n          pathname: '/',\n          state: {\n            studyLink: this.props.location.pathname\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, t('Study list'))), React.createElement(\"div\", {\n        className: \"header-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"research-use\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, t('INVESTIGATIONAL USE ONLY')), React.createElement(Dropdown, {\n        title: t('Options'),\n        list: this.options,\n        align: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(AboutModal, Object.assign({}, this.state, {\n        onCancel: function onCancel() {\n          return _this3.setState({\n            isOpen: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Header;\n}(Component);\n\nHeader.propTypes = {\n  home: PropTypes.bool.isRequired,\n  location: PropTypes.object.isRequired,\n  children: PropTypes.node,\n  t: PropTypes.func.isRequired\n};\nHeader.defaultProps = {\n  home: true,\n  children: OHIFLogo()\n};\nexport default withTranslation('Header')(withRouter(Header));","map":{"version":3,"sources":["/home/bitnami/Viewers/src/components/Header/Header.js"],"names":["Link","withRouter","React","Component","Dropdown","OHIFLogo","PropTypes","AboutModal","hotkeysManager","withTranslation","Header","props","state","isUserPreferencesOpen","isOpen","loadOptions","t","options","title","icon","name","onClick","setState","hotKeysData","hotkeyDefinitions","windowLevelData","home","location","studyLink","children","pathname","propTypes","bool","isRequired","object","node","func","defaultProps"],"mappings":"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","sourcesContent":["import './Header.css';\nimport './Header.css';\n\nimport { Link, withRouter } from 'react-router-dom';\nimport React, { Component } from 'react';\n\nimport { Dropdown } from 'react-viewerbase';\nimport OHIFLogo from '../OHIFLogo/OHIFLogo.js';\nimport PropTypes from 'prop-types';\nimport { AboutModal } from 'react-viewerbase';\nimport { hotkeysManager } from './../../App.js';\nimport { withTranslation } from 'react-i18next';\n\nclass Header extends Component {\n  static propTypes = {\n    home: PropTypes.bool.isRequired,\n    location: PropTypes.object.isRequired,\n    children: PropTypes.node,\n    t: PropTypes.func.isRequired,\n  };\n\n  static defaultProps = {\n    home: true,\n    children: OHIFLogo(),\n  };\n\n  // onSave: data => {\n  //   const contextName = store.getState().commandContext.context;\n  //   const preferences = cloneDeep(store.getState().preferences);\n  //   preferences[contextName] = data;\n  //   dispatch(setUserPreferences(preferences));\n  //   dispatch(setUserPreferencesModalOpen(false));\n  //   OHIF.hotkeysUtil.setHotkeys(data.hotKeysData);\n  // },\n  // onResetToDefaults: () => {\n  //   dispatch(setUserPreferences());\n  //   dispatch(setUserPreferencesModalOpen(false));\n  //   OHIF.hotkeysUtil.setHotkeys();\n  // },\n\n  constructor(props) {\n    super(props);\n    this.state = { isUserPreferencesOpen: false, isOpen: false };\n\n    this.loadOptions();\n  }\n\n  loadOptions() {\n    const { t } = this.props;\n    this.options = [\n      {\n        title: t('About'),\n        icon: { name: 'info' },\n        onClick: () => {\n          this.setState({\n            isOpen: true,\n          });\n        },\n      },\n    ];\n\n    this.hotKeysData = hotkeysManager.hotkeyDefinitions;\n  }\n\n  onUserPreferencesSave({ windowLevelData, hotKeysData }) {\n    // console.log(windowLevelData);\n    // console.log(hotKeysData);\n    // TODO: Update hotkeysManager\n    // TODO: reset `this.hotKeysData`\n  }\n\n  render() {\n    const { t } = this.props;\n    return (\n      <div className={`entry-header ${this.props.home ? 'header-big' : ''}`}>\n        <div className=\"header-left-box\">\n          {this.props.location && this.props.location.studyLink && (\n            <Link\n              to={this.props.location.studyLink}\n              className=\"header-btn header-viewerLink\"\n            >\n              {t('Back to Viewer')}\n            </Link>\n          )}\n\n          {this.props.children}\n\n          {!this.props.home && (\n            <Link\n              className=\"header-btn header-studyListLinkSection\"\n              to={{\n                pathname: '/',\n                state: { studyLink: this.props.location.pathname },\n              }}\n            >\n              {t('Study list')}\n            </Link>\n          )}\n        </div>\n\n        <div className=\"header-menu\">\n          <span className=\"research-use\">{t('INVESTIGATIONAL USE ONLY')}</span>\n          <Dropdown title={t('Options')} list={this.options} align=\"right\" />\n          <AboutModal\n            {...this.state}\n            onCancel={() =>\n              this.setState({\n                isOpen: false,\n              })\n            }\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withTranslation('Header')(withRouter(Header));\n"]},"metadata":{},"sourceType":"module"}